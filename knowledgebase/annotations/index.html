<!DOCTYPE html><html lang="en-GB"><head><meta name="msvalidate.01" content="2EB13C5538E9973D8DFC39C6A455DEFE"><meta name="google-site-verification" content="sVNU1mmaPgvbzlig03vdNtqHYnJNzvbdQYLCWqvtxRU"><meta name="description" content="Analogously to Java, AgentSpeak(L++) also supports the concept of annotations."><meta name="keywords" content="AI, BDI, Agent, Multi-Agent System, Concurrency, Java, Development, Artificial Intelligence, Software, Psychology, Sociology, Simulation"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=0.95,maximum-scale=0.95"><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-89676576-1","auto"),ga("send","pageview")</script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" crossorigin="anonymous" async></script><script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!1,skipTags:["script","noscript","style","textarea","pre","code"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["autoload-all.js"]}}})</script><script src="//cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js" crossorigin="anonymous" defer></script><script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/jquery-steps/1.1.0/jquery.steps.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.3/FileSaver.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/js/lightbox.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.min.js" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/toolbar/prism-toolbar.min.js" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/show-language/prism-show-language.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/command-line/prism-command-line.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/line-highlight/prism-line-highlight.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/line-numbers/prism-line-numbers.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/components/prism-java.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/components/prism-prolog.min.js" crossorigin="anonymous" async></script><script src="//cdnjs.cloudflare.com/ajax/libs/mobile-detect/1.4.1/mobile-detect.min.js" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.bundle.min.js" crossorigin="anonymous"></script><script src="https://lightjason.org/js/chartjs.boxplot.min.js"></script><script src="https://lightjason.org/js/chartjs.zoom.min.js"></script><script src="https://lightjason.org/js/colormap.min.js"></script><script src="https://lightjason.org/js/benchmark.js"></script><script src="https://lightjason.org/js/jquery.hammer.js" defer></script><script src="https://lightjason.org/js/prism-agentspeak.js" async></script><script src="https://lightjason.org/js/toc.min.js" async></script><script src="https://lightjason.org/js/teletype.js" async></script><script src="https://lightjason.org/js/script.js" defer></script><script src="https://lightjason.org/js/ljason.js" defer></script><link href="//fonts.googleapis.com/css?family=Pridi:200,300,400,500,600,700" rel="stylesheet" media="all"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous" media="screen"><link href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/css/lightbox.min.css" rel="stylesheet" media="screen"><link href="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/themes/prism-coy.min.css" rel="stylesheet" media="all"><link href="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet" media="all"><link href="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/command-line/prism-command-line.min.css" rel="stylesheet" media="all"><link href="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/line-highlight/prism-line-highlight.min.css" rel="stylesheet" media="screen"><link href="//cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" media="all"><link href="https://lightjason.org/css/layout.css" rel="stylesheet" media="all"><link href="https://lightjason.org/css/print.css" rel="stylesheet" media="print"><link href="https://lightjason.org/css/mobile.css" rel="stylesheet" media="screen and (max-width:1000px)"><link href="https://lightjason.org/css/jquery.steps.css" rel="stylesheet" media="screen"><link href="https://lightjason.org/images/favicon.png" type="image/png" rel="shortcut icon"><link href="https://lightjason.org/news/index.xml" type="application/rss+xml" rel="alternate" title="LightJason"><title>LightJason — Advanced Knowledge: Plan and Rule Annotations</title><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@LightJasonAI"><meta name="twitter:title" content="LightJason - Advanced Knowledge: Plan and Rule Annotations"><meta name="twitter:description" content="Analogously to Java, AgentSpeak(L++) also supports the concept of annotations."><meta name="twitter:image" content="https://lightjason.org/images/logo.png"><meta property="og:site_name" content="LightJason"><meta property="og:url" content="https://lightjason.org/knowledgebase/annotations/"><meta property="og:title" content="LightJason - Advanced Knowledge: Plan and Rule Annotations"><meta property="og:image" content="https://lightjason.org/images/logo.png"><meta property="og:description" content="Analogously to Java, AgentSpeak(L++) also supports the concept of annotations."><script type="application/ld+json">[{
	"@context": "http://schema.org",
	"@type": "Organization",	
	"name" : LightJason,
	"email" : info@lightjason.org,
	"url" : https://lightjason.org,
	"logo" : https://lightjason.org/images/logo.png,
	"founders": [{
			"@type": "Person",
			"email" : malte@lightjason.org,
			"name" : Malte Aschermann,
			"givenName" : Malte,
			"familyName" : Aschermann
			, "image" : http://meclab.in.tu-clausthal.de/images/people/malte_aschermann.png
		}
		,{
			"@type": "Person",
			"email" : sophie@lightjason.org,
			"name" : Sophie Dennisen,
			"givenName" : Sophie,
			"familyName" : Dennisen
			, "image" : http://meclab.in.tu-clausthal.de/images/people/sdennisen.jpg
			, "sameAs" : [
				http://xing.to/sdennisen,
				http://www.linkedin.com/in/sdennisen,
				https://www.researchgate.net/profile/Sophie_Dennisen
			]
		}
		,{
			"@type": "Person",
			"email" : philipp@lightjason.org,
			"name" : Philipp Kraus,
			"givenName" : Philipp,
			"familyName" : Kraus
			, "image" : http://www.gravatar.com/avatar/2de3ae533823dae934d3b45b239f797c
			, "sameAs" : [
				http://xing.to/philippkraus,
				http://www.linkedin.com/in/philipp-kraus,
				https://www.researchgate.net/profile/Philipp_Kraus2
			]
		}
		]
},


{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"name": LightJason,
	"alternateName": LightJason,
	"url":https://lightjason.org
	, "license" : https://creativecommons.org/licenses/by-sa/4.0/
	, "genre" : AI, BDI, Agent, Multi-Agent System, Concurrency, Java, Development, Artificial Intelligence, Software, Psychology, Sociology, Simulation, "keywords" : AI, BDI, Agent, Multi-Agent System, Concurrency, Java, Development, Artificial Intelligence, Software, Psychology, Sociology, Simulation
	, "author" : [{
			"@type": "Person",
			"email" : malte@lightjason.org,
			"name" : Malte Aschermann,
			"givenName" : Malte,
			"familyName" : Aschermann
			, "image" : http://meclab.in.tu-clausthal.de/images/people/malte_aschermann.png
		}
		,{
			"@type": "Person",
			"email" : sophie@lightjason.org,
			"name" : Sophie Dennisen,
			"givenName" : Sophie,
			"familyName" : Dennisen
			, "image" : http://meclab.in.tu-clausthal.de/images/people/sdennisen.jpg
			, "sameAs" : [
				http://xing.to/sdennisen,
				http://www.linkedin.com/in/sdennisen,
				https://www.researchgate.net/profile/Sophie_Dennisen
			]
		}
		,{
			"@type": "Person",
			"email" : philipp@lightjason.org,
			"name" : Philipp Kraus,
			"givenName" : Philipp,
			"familyName" : Kraus
			, "image" : http://www.gravatar.com/avatar/2de3ae533823dae934d3b45b239f797c
			, "sameAs" : [
				http://xing.to/philippkraus,
				http://www.linkedin.com/in/philipp-kraus,
				https://www.researchgate.net/profile/Philipp_Kraus2
			]
		}
		]
}
,{
	"@context" : "http://schema.org",
	"@type" : "TechArticle",
	"headline" : Advanced Knowledge: Plan and Rule Annotations,
	"proficiencyLevel" : "Beginner",
	"wordCount" : 600,
	"datePublished" : 2017-01-01T12:00:00&#43;01:00,
	"image" : https://lightjason.org/images/logo.png 
}
]</script></head><body data-previouspage="/knowledgebase/triggering" data-nextpage="/knowledgebase/lambdaexpressions"><div class="document"><div id="nav">☰</div><div class="documentwrapper"><div class="bodywrapper"><div class="body"><h1 id="root"><a href="#root">Advanced Knowledge: Plan and Rule Annotations</a></h1><p>Analogously to <a href="https://en.wikipedia.org/wiki/Java_annotation">Java</a>, AgentSpeak(L++) also supports the concept of <a href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#4ab6864fc58ecd8b598ee10dfe2ac311">annotations</a>.</p><p></p><p>In AgentSpeak(L++) <a href="../plansandrules">→ plans and logic rules</a> can be modified in their execution behaviour by adding annotation(s) to them.</p><div id="toccontainer">Contents [<a href="#" id="tochideshow">Hide</a>]<div id="toc"></div></div><h2 id="annotations-to-plans-and-rules">Annotations to Plans and Rules</h2><p><strong>Plans:</strong> Our <a href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#5fc25157650d0cb24f02216d904584df">plan grammar</a> specifies that (optional) annotations, prefixed with an <code>@</code> symbol, can be placed in front of plan trigger, i.e.</p><p><svg class="railroad-diagram" width="726" height="112" viewBox="0 0 726 80" id="svg_5fc25157650d0cb24f02216d904584df"><path d="M20 30v20m10-20v20M20 40h20.5m-.5 0h10m0 0a10 10 0 0 0 10-10 10 10 0 0 1 10-10m0 0h108m0 0a10 10 0 0 1 10 10 10 10 0 0 0 10 10M50 40h20" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M70 29h108v22H70z"/><a xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#4ab6864fc58ecd8b598ee10dfe2ac311"><text x="124" y="44">annotations</text></a></g><path d="M178 40h20m0 0h10" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M208 29h116v22H208z"/><a xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#4f0fa1b5875427a602b3f913163be2ca"><text x="266" y="44">plan_trigger</text></a></g><path d="M324 40h10m0 0h10" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M344 29h76v22h-76z"/><a xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#f0d674f1e0ed4292267f149c5983db02"><text x="382" y="44">literal</text></a></g><path d="M420 40h10m0 0a10 10 0 0 0 10-10 10 10 0 0 1 10-10m0 0h152m0 0a10 10 0 0 1 10 10 10 10 0 0 0 10 10m-192 0h20m0 0h10" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M460 29h132v22H460z"/><a xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#d60b4a42e52668da3017e5717ef3f60"><text x="526" y="44">plandefinition</text></a></g><path d="M592 40h10m-142 0a10 10 0 0 0-10 10 10 10 0 0 0 10 10m0 0h132m0 0a10 10 0 0 0 10-10 10 10 0 0 0-10-10m10 0h20m0 0h10" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M632 29h44v22h-44z"/><a xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#40679521b5da0954b705341a2859f782"><text x="654" y="44">DOT</text></a></g><path d="M676 40h10m0 0h20m-10-10v20m10-20v20" transform="translate(.5 .5)"/></svg></p>

<p><pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">@annotation
+!plan &lt;-
    …
.
</code></pre>
<p></p><p><strong>Rules:</strong> Analogously LightJason(L++) <a href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#d0404623ab035c7e30f997d91d173a52">allows adding annotations to rules</a>.</p><p><svg class="railroad-diagram" width="626" height="112" viewBox="0 0 626 80" id="svg_d0404623ab035c7e30f997d91d173a52"><path d="M20 30v20m10-20v20M20 40h20.5m-.5 0h10m0 0a10 10 0 0 0 10-10 10 10 0 0 1 10-10m0 0h108m0 0a10 10 0 0 1 10 10 10 10 0 0 0 10 10M50 40h20" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M70 29h108v22H70z"/><a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#4ab6864fc58ecd8b598ee10dfe2ac311"><text x="124" y="44">annotations</text></a></g><path d="M178 40h20m0 0h10" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M208 29h76v22h-76z"/><a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#f0d674f1e0ed4292267f149c5983db02"><text x="246" y="44">literal</text></a></g><path d="M284 40h10m0 0h10m0 0h10" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M314 29h188v22H314z"/><a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#d42b51522492f1bfb748a7056a67ec99"><text x="408" y="44">logicalruledefinition</text></a></g><path d="M502 40h10m-198 0a10 10 0 0 0-10 10 10 10 0 0 0 10 10m0 0h188m0 0a10 10 0 0 0 10-10 10 10 0 0 0-10-10m10 0h10m0 0h10" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M532 29h44v22h-44z"/><a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#40679521b5da0954b705341a2859f782"><text x="554" y="44">DOT</text></a></g><path d="M576 40h10m0 0h20m-10-10v20m10-20v20" transform="translate(.5 .5)"/></svg></p>

<p><pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">@annotation
rule
    :- conditions
    :- conditions
    …
.
</code></pre>
<p></p><blockquote><p><strong>Note</strong>: Multiple annotations can be combined, e.g. for plans <pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">@annotation1
@annotation2
+!plan &lt;-
    …
.
</code></pre></p></blockquote><h2 id="built-in-annotations">Built-in Annotations</h2><p>We currently support two built-in annotations, i.e. <code>@parallel</code> and <code>@atomic</code>, which are explained in the following in further detail.</p><p><svg class="railroad-diagram" width="270" height="120" viewBox="0 0 270 92" id="svg_e8cfdf2f51a622adbe9ef531c7dc10c5"><path d="M20 21v20m10-20v20M20 31h20.5m-.5 0h10m170 0" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M50 20h36v22H50z"/><a xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#fa868488740aa25870ced6b9169951fb"><text x="68" y="35">AT</text></a></g><path d="M86 31h10m0 0h20" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M116 31h8m68 0h8m-76-11h68v22h-68z"/><a xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#ef668eed93582ab6729f8a7e679d4f4a"><text x="158" y="35">ATOMIC</text></a></g><path d="M200 31h20M96 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10" transform="translate(.5 .5)"/><g class="non-terminal" transform="translate(.5 .5)"><path d="M116 50h84v22h-84z"/><a xmlns:xlink="https://www.w3.org/1999/xlink" xlink:href="https://agentspeak-java.lightjason.org/rrd-output/html/org/lightjason/agentspeak/grammar/Agent.g4/index.htm#df13a99b035d6f0bce4f44ab18eec8eb"><text x="158" y="65">PARALLEL</text></a></g><path d="M200 61a10 10 0 0 0 10-10V41a10 10 0 0 1 10-10m0 0h10m0 0h20m-10-10v20m10-20v20" transform="translate(.5 .5)"/></svg></p><h3 id="atomic"><code>@atomic</code></h3><p>The <code>@atomic</code> annotation defines a plan to <em>always succeed</em> by default. This behaviour is useful in cases where failure of <a href="../actions">→ actions</a> can be expected but do not constitute erroneous behaviour or results.</p><p><strong>Usage:</strong></p>

<p><pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">@atomic
+!plan &lt;-
    …
.
</code></pre>
<p></p><p>The plan will succeed regardless of failing actions or sub-plans.</p><p>For a plan 
<pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">@atomic
+!plan &lt;-
    action1();
    !!immediate_subplan;
    !postponed_subplan;
    action2();
.
</code></pre>
 the execution flow is as depicted below</p><p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="116 161 727 114" width="727pt" height="114pt" xmlns:dc="http://purl.org/dc/elements/1.1/"><defs><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="#235e00"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_2" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Courier New" font-size="12" panose-1="2 7 3 9 2 2 5 2 4 4" units-per-em="1000" underline-position="-232.91016" underline-thickness="41.015625" slope="0" x-height="422.85156" cap-height="571.28906" ascent="832.5195" descent="-300.29297" font-weight="500"><font-face-src><font-face-name name="CourierNewPSMT"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_3" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="#666"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Helvetica Neue" font-size="12" panose-1="2 0 5 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="517" cap-height="714" ascent="951.9958" descent="-212.99744" font-weight="500"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face font-family="Helvetica Neue" font-size="10" panose-1="2 0 5 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="517" cap-height="714" ascent="951.9958" descent="-212.99744" font-weight="500"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_4" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="#235e00"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_5" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="#b1001c"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>Knowledgebase - Annotations</title><rect fill="white" width="915" height="538.2"/><g><title>Layer 1</title><line x1="225" y1="233.8611" x2="233.1" y2="233.8611" marker-end="url(#FilledArrow_Marker)" stroke="#235e00" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="396" y1="233.8611" x2="404.1" y2="233.8611" marker-end="url(#FilledArrow_Marker)" stroke="#235e00" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="558" y1="233.8611" x2="575.1" y2="233.8611" marker-end="url(#FilledArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="665.9998" y1="233.9269" x2="692.1" y2="233.9693" marker-end="url(#FilledArrow_Marker)" stroke="#235e00" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 153 224.8611 L 216 224.8611 C 220.97056 224.8611 225 228.89055 225 233.8611 L 225 233.8611 C 225 238.83167 220.97056 242.8611 216 242.8611 L 153 242.8611 C 148.02944 242.8611 144 238.83167 144 233.8611 L 144 233.8611 C 144 228.89055 148.02944 224.8611 153 224.8611 Z" fill="white"/><path d="M 153 224.8611 L 216 224.8611 C 220.97056 224.8611 225 228.89055 225 233.8611 L 225 233.8611 C 225 238.83167 220.97056 242.8611 216 242.8611 L 153 242.8611 C 148.02944 242.8611 144 238.83167 144 233.8611 L 144 233.8611 C 144 228.89055 148.02944 224.8611 153 224.8611 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(149 226.8611)" fill="black"><tspan font-family="Courier New" font-size="12" font-weight="500" x="3.0947266" y="10" textLength="64.81055">action1()</tspan></text><path d="M 252 224.8611 L 387 224.8611 C 391.97056 224.8611 396 228.89055 396 233.8611 L 396 233.8611 C 396 238.83167 391.97056 242.8611 387 242.8611 L 252 242.8611 C 247.02944 242.8611 243 238.83167 243 233.8611 L 243 233.8611 C 243 228.89055 247.02944 224.8611 252 224.8611 Z" fill="white"/><path d="M 252 224.8611 L 387 224.8611 C 391.97056 224.8611 396 228.89055 396 233.8611 L 396 233.8611 C 396 238.83167 391.97056 242.8611 387 242.8611 L 252 242.8611 C 247.02944 242.8611 243 238.83167 243 233.8611 L 243 233.8611 C 243 228.89055 247.02944 224.8611 252 224.8611 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(248 226.8611)" fill="black"><tspan font-family="Courier New" font-size="12" font-weight="500" x="3.0888672" y="10" textLength="136.82227">!!immediate_subplan</tspan></text><path d="M 423 224.8611 L 549 224.8611 C 553.97056 224.8611 558 228.89055 558 233.8611 L 558 233.8611 C 558 238.83167 553.97056 242.8611 549 242.8611 L 423 242.8611 C 418.02944 242.8611 414 238.83167 414 233.8611 L 414 233.8611 C 414 228.89055 418.02944 224.8611 423 224.8611 Z" fill="white"/><path d="M 423 224.8611 L 549 224.8611 C 553.97056 224.8611 558 228.89055 558 233.8611 L 558 233.8611 C 558 238.83167 553.97056 242.8611 549 242.8611 L 423 242.8611 C 418.02944 242.8611 414 238.83167 414 233.8611 L 414 233.8611 C 414 228.89055 418.02944 224.8611 423 224.8611 Z" stroke="#666" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(419 226.8611)" fill="black"><tspan font-family="Courier New" font-size="12" font-weight="500" x="2.189453" y="10" textLength="129.6211">!postponed_subplan</tspan></text><path d="M 594 224.8611 L 657 224.8611 C 661.9706 224.8611 666 228.89055 666 233.8611 L 666 233.8611 C 666 238.83167 661.9706 242.8611 657 242.8611 L 594 242.8611 C 589.02944 242.8611 585 238.83167 585 233.8611 L 585 233.8611 C 585 228.89055 589.02944 224.8611 594 224.8611 Z" fill="white"/><path d="M 594 224.8611 L 657 224.8611 C 661.9706 224.8611 666 228.89055 666 233.8611 L 666 233.8611 C 666 238.83167 661.9706 242.8611 657 242.8611 L 594 242.8611 C 589.02944 242.8611 585 238.83167 585 233.8611 L 585 233.8611 C 585 228.89055 589.02944 224.8611 594 224.8611 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(590 226.8611)" fill="black"><tspan font-family="Courier New" font-size="12" font-weight="500" x="3.0947266" y="10" textLength="64.81055">action2()</tspan></text><line x1="117" y1="233.8611" x2="134.1" y2="233.8611" marker-end="url(#FilledArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="495" y1="224.8611" x2="514.99964" y2="204.86147" marker-end="url(#FilledArrow_Marker_3)" stroke="#666" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="4,4"/><text transform="translate(752 226.37367)" fill="#235e00"><tspan font-family="Helvetica Neue" font-size="12" font-weight="500" fill="#235e00" x=".322" y="11" textLength="85.356">plan succeeded</tspan></text><text transform="translate(222.89674 241.7687)" fill="#b1001c"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#b1001c" x=".115" y="10" textLength="12.77">fail</tspan></text><text transform="translate(468.5 161.94111)" fill="#666"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="18.235" y="10" textLength="103.53">Executed in next cycle.</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="14.435" y="22.28" textLength="72.23">No information r</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="86.485" y="22.28" textLength="19.81">egar</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="106.115" y="22.28" textLength="19.45">ding</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="1.845" y="34.559998" textLength="72.96">success or failur</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="74.625" y="34.559998" textLength="66.31">e in this cycle.</tspan></text><text transform="translate(399.4029 241.32026)" fill="#b1001c"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#b1001c" x=".115" y="10" textLength="12.77">fail</tspan></text><text transform="translate(662 239.36)" fill="#b1001c"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#b1001c" x=".115" y="10" textLength="12.77">fail</tspan></text><text transform="translate(223.54167 212.2211)" fill="#235e00"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#235e00" x=".35" y="10" textLength="21.3">succ</tspan></text><text transform="translate(394.08333 212.2211)" fill="#235e00"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#235e00" x=".35" y="10" textLength="21.3">succ</tspan></text><text transform="translate(675.8611 212.2211)" fill="#235e00"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#235e00" x=".35" y="10" textLength="21.3">succ</tspan></text><text transform="translate(118 162.19311)" fill="black"><tspan font-family="Helvetica Neue" font-size="12" font-weight="500" fill="black" x=".472" y="11" textLength="46.056">@atomic</tspan></text><path d="M 711 225 L 711 225 C 715.9706 225 720 229.02944 720 234 L 720 234 C 720 238.97056 715.9706 243 711 243 L 711 243 C 706.0294 243 702 238.97056 702 234 L 702 234 C 702 229.02944 706.0294 225 711 225 Z" fill="white"/><path d="M 711 225 L 711 225 C 715.9706 225 720 229.02944 720 234 L 720 234 C 720 238.97056 715.9706 243 711 243 L 711 243 C 706.0294 243 702 238.97056 702 234 L 702 234 C 702 229.02944 706.0294 225 711 225 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="720" y1="234" x2="737.1" y2="234" marker-end="url(#FilledArrow_Marker_4)" stroke="#235e00" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="207" y1="243" x2="225.7627" y2="255.50847" marker-end="url(#FilledArrow_Marker_5)" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="378" y1="243" x2="405.14517" y2="256.5726" marker-end="url(#FilledArrow_Marker_5)" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="234" y1="261" x2="684" y2="261" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="648" y1="243" x2="675.1452" y2="256.5726" marker-end="url(#FilledArrow_Marker_5)" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="684" y1="261" x2="697.6357" y2="247.36432" marker-end="url(#FilledArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(694.6846 250.13123)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="black" x=".31" y="10" textLength="38.38">@atomic</tspan></text></g></g></svg></p><h3 id="parallel"><code>@parallel</code></h3><p>The <code>@parallel</code> annotation defines a plan to execute every action and <a href="../goals">→ goal</a> in its body in parallel, via <a href="https://en.wikipedia.org/wiki/Fork%E2%80%93join_model">fork-join</a> mechanism. This behaviour is useful to speed up execution of independent actions and sub-plans.</p><blockquote><p><strong>Notes:</strong></p><ul><li>If <strong>any</strong> of the parallel executed body elements fails, the whole plan fails.</li><li>The annotation only applies to plans triggered by <code>!!</code> and executed in the <strong>current</strong> cycle. Plans triggered via <code>!</code> will be independently executed in the <em>following</em> cycle. For more information on triggering see <a href="../triggering">→ Plan Triggering Techniques</a>.</li></ul></blockquote><p><strong>Usage:</strong></p>

<p><pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">@parallel
+!plan &lt;-
    …
.
</code></pre>
<p></p><p>For a plan 
<pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">@parallel
+!plan &lt;-
    action1();
    !!immediate_subplan;
    !postponed_subplan;
    action2();
.
</code></pre>
 the execution flow is as depicted below</p><p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="170 315 556 149" width="556pt" height="149pt" xmlns:dc="http://purl.org/dc/elements/1.1/"><defs><font-face font-family="Courier New" font-size="12" panose-1="2 7 3 9 2 2 5 2 4 4" units-per-em="1000" underline-position="-232.91016" underline-thickness="41.015625" slope="0" x-height="422.85156" cap-height="571.28906" ascent="832.5195" descent="-300.29297" font-weight="500"><font-face-src><font-face-name name="CourierNewPSMT"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_2" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="#666"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_3" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="#b1001c"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Helvetica Neue" font-size="12" panose-1="2 0 5 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="517" cap-height="714" ascent="951.9958" descent="-212.99744" font-weight="500"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face font-family="Helvetica Neue" font-size="10" panose-1="2 0 5 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="517" cap-height="714" ascent="951.9958" descent="-212.99744" font-weight="500"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_4" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="#235e00"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>Knowledgebase - Annotations</title><rect fill="white" width="906" height="535.0798"/><g><title>Layer 1</title><path d="M 297 333 L 432 333 C 436.97056 333 441 337.02944 441 342 L 441 342 C 441 346.97056 436.97056 351 432 351 L 297 351 C 292.02944 351 288 346.97056 288 342 L 288 342 C 288 337.02944 292.02944 333 297 333 Z" fill="white"/><path d="M 297 333 L 432 333 C 436.97056 333 441 337.02944 441 342 L 441 342 C 441 346.97056 436.97056 351 432 351 L 297 351 C 292.02944 351 288 346.97056 288 342 L 288 342 C 288 337.02944 292.02944 333 297 333 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(293 335)" fill="black"><tspan font-family="Courier New" font-size="12" font-weight="500" x="6.689453" y="10" textLength="129.6211">!postponed_subplan</tspan></text><path d="M 297 369 L 432 369 C 436.97056 369 441 373.02944 441 378 L 441 378 C 441 382.97056 436.97056 387 432 387 L 297 387 C 292.02944 387 288 382.97056 288 378 L 288 378 C 288 373.02944 292.02944 369 297 369 Z" fill="white"/><path d="M 297 369 L 432 369 C 436.97056 369 441 373.02944 441 378 L 441 378 C 441 382.97056 436.97056 387 432 387 L 297 387 C 292.02944 387 288 382.97056 288 378 L 288 378 C 288 373.02944 292.02944 369 297 369 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(293 371)" fill="black"><tspan font-family="Courier New" font-size="12" font-weight="500" x="3.0888672" y="10" textLength="136.82227">!!immediate_subplan</tspan></text><path d="M 297 405 L 432 405 C 436.97056 405 441 409.02944 441 414 L 441 414 C 441 418.97056 436.97056 423 432 423 L 297 423 C 292.02944 423 288 418.97056 288 414 L 288 414 C 288 409.02944 292.02944 405 297 405 Z" fill="white"/><path d="M 297 405 L 432 405 C 436.97056 405 441 409.02944 441 414 L 441 414 C 441 418.97056 436.97056 423 432 423 L 297 423 C 292.02944 423 288 418.97056 288 414 L 288 414 C 288 409.02944 292.02944 405 297 405 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(293 407)" fill="black"><tspan font-family="Courier New" font-size="12" font-weight="500" x="39.094727" y="10" textLength="64.81055">action1()</tspan></text><path d="M 297 441 L 432 441 C 436.97056 441 441 445.02944 441 450 L 441 450 C 441 454.97056 436.97056 459 432 459 L 297 459 C 292.02944 459 288 454.97056 288 450 L 288 450 C 288 445.02944 292.02944 441 297 441 Z" fill="white"/><path d="M 297 441 L 432 441 C 436.97056 441 441 445.02944 441 450 L 441 450 C 441 454.97056 436.97056 459 432 459 L 297 459 C 292.02944 459 288 454.97056 288 450 L 288 450 C 288 445.02944 292.02944 441 297 441 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(293 443)" fill="black"><tspan font-family="Courier New" font-size="12" font-weight="500" x="39.094727" y="10" textLength="64.81055">action2()</tspan></text><line x1="214.48925" y1="391.00717" x2="279.7627" y2="347.49153" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="441" y1="414" x2="512.4653" y2="399.70693" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="441" y1="378" x2="512.4653" y2="392.29307" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="441" y1="342" x2="514.7922" y2="386.27533" marker-end="url(#FilledArrow_Marker_2)" stroke="#666" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="4,4"/><line x1="441" y1="450" x2="514.7922" y2="405.72467" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="539.85636" y1="397.61025" x2="620.2597" y2="412.22903" marker-end="url(#FilledArrow_Marker_3)" stroke="#b1001c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(635 370.8598)" fill="#235e00"><tspan font-family="Helvetica Neue" font-size="12" font-weight="500" fill="#235e00" x=".322" y="11" textLength="85.356">plan succeeded</tspan></text><text transform="translate(635 406.5959)" fill="#b1001c"><tspan font-family="Helvetica Neue" font-size="12" font-weight="500" fill="#b1001c" x=".442" y="11" textLength="55.116">plan failed</tspan></text><text transform="translate(446 320.08)" fill="#666"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="25.235" y="10" textLength="103.53">Executed in next cycle.</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="1.71" y="22.28" textLength="72.23">No information r</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="73.76" y="22.28" textLength="19.81">egar</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="93.39" y="22.28" textLength="61.68">ding success</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="28.57" y="34.559998" textLength="33.51">or failur</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" fill="#666" x="61.9" y="34.559998" textLength="66.31">e in this cycle.</tspan></text><path d="M 531 387 L 531 387 C 535.97056 387 540 391.02944 540 396 L 540 396 C 540 400.97056 535.97056 405 531 405 L 531 405 C 526.02944 405 522 400.97056 522 396 L 522 396 C 522 391.02944 526.02944 387 531 387 Z" fill="white"/><path d="M 531 387 L 531 387 C 535.97056 387 540 391.02944 540 396 L 540 396 C 540 400.97056 535.97056 405 531 405 L 531 405 C 526.02944 405 522 400.97056 522 396 L 522 396 C 522 391.02944 526.02944 387 531 387 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 207 387 L 207 387 C 211.97056 387 216 391.02944 216 396 L 216 396 C 216 400.97056 211.97056 405 207 405 L 207 405 C 202.02944 405 198 400.97056 198 396 L 198 396 C 198 391.02944 202.02944 387 207 387 Z" fill="white"/><path d="M 207 387 L 207 387 C 211.97056 387 216 391.02944 216 396 L 216 396 C 216 400.97056 211.97056 405 207 405 L 207 405 C 202.02944 405 198 400.97056 198 396 L 198 396 C 198 391.02944 202.02944 387 207 387 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="215.78756" y1="394.0472" x2="278.33575" y2="380.1476" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="215.78756" y1="397.9528" x2="278.33575" y2="411.8524" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="214.48925" y1="400.99283" x2="279.7627" y2="444.50847" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="171" y1="396" x2="188.1" y2="396" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(186.70833 371.90145)" fill="black"><tspan font-family="Helvetica Neue" font-size="12" font-weight="500" fill="black" x=".168" y="11" textLength="20.664">fork</tspan></text><text transform="translate(527 371.90145)" fill="black"><tspan font-family="Helvetica Neue" font-size="12" font-weight="500" fill="black" x=".056" y="11" textLength="18.888">join</tspan></text><line x1="539.85636" y1="394.38975" x2="620.2597" y2="379.77097" marker-end="url(#FilledArrow_Marker_4)" stroke="#235e00" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(170 315.332)" fill="black"><tspan font-family="Helvetica Neue" font-size="12" font-weight="500" fill="black" x=".482" y="11" textLength="48.036">@parallel</tspan></text></g></g></svg></p><h2 id="examples">Examples</h2><p>The agent script</p>

<p><pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">!main.
</code><code class="language-agentspeak">
+!main &lt;-
    !!plan &lt;&lt; generic/print(&ldquo;plan failed!&rdquo;)
.
</code><code class="language-agentspeak">
+!plan &lt;-
    generic/print(&ldquo;foo&rdquo;);
    !!subplan1;
    !!subplan2;
    generic/print(&ldquo;bar&rdquo;)
.
</code><code class="language-agentspeak">
+!subplan1 &lt;-
    generic/print(&ldquo;sub-plan1&rdquo;);
    fail
.
</code><code class="language-agentspeak">
+!subplan2 &lt;-
    generic/print(&ldquo;sub-plan2&rdquo;)
.
</code></pre>
<p></p><p>will only yield</p>

<pre><code class="language-commandline">foo
sub-plan1
plan failed!
</code></pre>

<p>as <code>+!subplan1</code> fails and the execution stops. The <code>&lt;&lt;</code> represents a <a href="../repairactions">→ repair action</a>.</p><p>Adding <code>@parallel</code> to <code>+!plan</code> will execute every goal trigger and action in parallel, yielding</p>

<pre><code class="language-commandline">bar
sub-plan1
foo
sub-plan2
plan failed!
</code></pre>

<p>(ordering of output might vary). It can be observed that, despite executing every element in the body of <code>+!plan</code>, the whole plan still fails, as <code>+!subplan1</code> fails.</p><p>Further adding <code>@atomic</code> to <code>+!plan</code> will result in successful execution of <code>+!plan</code>, returning</p>

<pre><code class="language-commandline">foo
bar
sub-plan1
sub-plan2
</code></pre>

<p>(ordering might vary). The same effect could also be achieved by preventing <code>!subplan1</code> to fail via <code>@atomic</code>, which is left as an exercise to the reader.</p><p>The complete example with <code>@atomic</code> and <code>@parallel</code> would be</p>

<p><pre data-language="AgentSpeak(L++)"><code class="language-agentspeak">!main.
</code><code class="language-agentspeak">
+!main &lt;-
    !!plan &lt;&lt; generic/print(&ldquo;plan failed!&rdquo;)
.
</code><code class="language-agentspeak">
@atomic
@parallel
+!plan &lt;-
    generic/print(&ldquo;foo&rdquo;);
    !!subplan1;
    !!subplan2;
    generic/print(&ldquo;bar&rdquo;)
.
</code><code class="language-agentspeak">
+!subplan1 &lt;-
    generic/print(&ldquo;sub-plan1&rdquo;);
    fail
.
</code><code class="language-agentspeak">
+!subplan2 &lt;-
    generic/print(&ldquo;sub-plan2&rdquo;)
.
</code></pre>
<p></p></div><div class="sitepagination"><div class="left"><a href="/knowledgebase/triggering">KB: Advanced - Plan Triggering Techniques</a> previous page</div><div class="right">next page <a href="/knowledgebase/lambdaexpressions">KB: Advanced - Lambda Expressions</a></div></div></div></div><div class="sidebar" role="navigation" aria-label="main navigation"><div class="sidebarwrapper"><div class="logo"><a href="https://lightjason.org/">LightJason</a><div class="subtitle">Concurrent BDI multi-agent system</div></div><ul><li><a class="reference internal" href="/news/">News</a> <span class="sublink">(<a href="/news/index.xml">RSS</a>)</span></li><li><a class="reference internal" href="/publications/">Publications</a></li><li><a class="reference internal" href="/framework/">Framework</a></li><li><a class="reference internal" href="/benchmark/">Benchmark</a></li><li><a class="reference internal" href="/knowledgebase/">Knowledge Base</a></li><li><a class="reference internal" href="/tutorials/">Tutorials</a> <span class="sublink">(<a href="/tutorials/wizard">Wizard</a>)</span></li><li><a class="reference internal" href="/about/">About</a></li><li><a class="reference internal" href="/contact/">Contact</a></li><li><a class="reference internal" href="/credits/">Credits</a></li></ul><ul class="horizontal socialmedia"><li><a href="https://github.com/LightJason"><img src="/images/github.svg" alt="github" class="socialmediaimg"></a></li><li><a href="https://hub.docker.com/u/lightjason"><img src="/images/docker.svg" alt="docker" class="socialmediaimg"></a></li><li><a href="http://twitter.com/LightJasonAI"><img src="/images/twitter.svg" alt="twitter" class="socialmediaimg"></a></li><li><a href="https://vimeo.com/lightjason"><img src="/images/vimeo.svg" alt="vimeo" class="socialmediaimg"></a></li></ul><script>((window.gitter={}).chat={}).options={room:"LightJason/Lobby"}</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script><div class="sharebutton">Share on<ul class="horizontal socialmediaaction"><li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flightjason.org%2fknowledgebase%2fannotations%2f" title="Share on Facebook" target="_blank" onclick='return window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.URL)+"&t="+encodeURIComponent(document.URL)),!1'><img alt="Share on Facebook" src="/images/share_facebook.svg" class="socialmediaimg"></a></li><li><a href="https://plus.google.com/share?url=https%3a%2f%2flightjason.org%2fknowledgebase%2fannotations%2f" target="_blank" title="Share on Google+" onclick='return window.open("https://plus.google.com/share?url="+encodeURIComponent(document.URL)),!1'><img alt="Share on Google+" src="/images/share_googleplus.svg" class="socialmediaimg"></a></li><li><a href="https://twitter.com/intent/tweet?source=https%3a%2f%2flightjason.org%2fknowledgebase%2fannotations%2f&text=https%3a%2f%2flightjason.org%2fknowledgebase%2fannotations%2f&via=LightJasonAI" target="_blank" title="Tweet" onclick='return window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(document.title)+":%20"+encodeURIComponent(document.URL)),!1'><img alt="Tweet" src="/images/share_twitter.svg" class="socialmediaimg"></a></li></ul></div></div></div><div class="clear"></div></div><div class="footer"><span class="contact">info [at] lightjason.org</span><ul class="horizontal"><li><a href="https://github.com/LightJason/Java-AgentSpeak">Java AgentSpeak(L++)</a></li><li><a href="https://www.researchgate.net/project/LightJason">ResearchGate</a></li><li>© 2019-04-06</li></ul></div></body></html>